# Settings Page Implementation Plan

**Created:** 2025-07-12

---

## Checklist

### üìÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–º
- [x] –°–æ–∑–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª-–ø–ª–∞–Ω –∏ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –≤ `.ai/tasks/` –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### üåê –û–±—â–∏–µ
- [x] –°–æ–∑–¥–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω `users/settings.html` (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä + —Ç–∞–±-–±–∞—Ä HTMX)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤ `urls.py` (settings, buyer, seller, phone-endpoints)
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `.ai/tasks/` (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç) –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞–Ω–∞ ‚¨ÖÔ∏è (—Å–æ–∑–¥–∞–Ω–æ)

### üñ•Ô∏è Backend ‚Äì Django
1. **Views**
   - [ ] `settings_view` ‚Äì wrapper-—à–∞–±–ª–æ–Ω
   - [ ] `buyer_settings_partial` ‚Äì HTMX-—Ñ—Ä–∞–≥–º–µ–Ω—Ç —Å —Ñ–æ—Ä–º–æ–π/CTA + —Ç–µ–ª–µ—Ñ–æ–Ω—ã
   - [ ] `seller_settings_partial` ‚Äì HTMX-—Ñ—Ä–∞–≥–º–µ–Ω—Ç —Å —Ñ–æ—Ä–º–æ–π/CTA + —Ç–µ–ª–µ—Ñ–æ–Ω—ã
   - [ ] `add_phone_view` ‚Äì POST, —Å–æ–∑–¥–∞—ë—Ç PhoneNumber, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç OTP
   - [ ] `verify_phone_view` ‚Äì POST, –ø—Ä–æ–≤–µ—Ä–∫–∞ OTP, –ø–æ–º–µ—Ç–∫–∞ `is_verified`
   - [ ] `deactivate_phone_view` ‚Äì POST, `is_active=False`

2. **Forms**
   - [ ] –ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏ `BuyerRegistrationForm` / `SellerRegistrationForm` –±–µ–∑ –ø–æ–ª–µ–π –ø–∞—Ä–æ–ª—è
   - [ ] –í–∞–ª–∏–¥–∞—Ç–æ—Ä –Ω–æ–º–µ—Ä–∞ (E.164)

3. **Services**
   - [ ] –°–æ–∑–¥–∞—Ç—å `users/services/phone.py` ‚Äì –≥–µ–Ω–µ—Ä–∞—Ü–∏—è OTP, –æ—Ç–ø—Ä–∞–≤–∫–∞ SMS
   - [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `registration.py` –∏ `sms.py`

4. **Models / Migrations**
   - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª—å `PhoneNumber`; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—è
   - [ ] –°–≤—è–∑–∞—Ç—å –Ω–æ–º–µ—Ä–∞ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º (FK), —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è `is_active=True`

5. **Tests**
   - [ ] –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã view-–ª–æ–≥–∏–∫–∏ (GET/POST, —Å—Ç–∞—Ç—É—Å—ã 200/204)
   - [ ] –¢–µ—Å—Ç—ã —Ñ–æ—Ä–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ OTP-–ø—Ä–æ—Ü–µ—Å—Å–∞

### üé® Frontend ‚Äì HTMX, Tailwind, Alpine.js
6. **Templates**
   - [ ] `buyer_settings_partial.html` ‚Äì —Ñ–æ—Ä–º–∞/CTA, —Ç–∞–±–ª–∏—Ü–∞ –Ω–æ–º–µ—Ä–æ–≤, –∫–Ω–æ–ø–∫–∞ "+ Add"
   - [ ] `seller_settings_partial.html` ‚Äì –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ buyer
   - [ ] –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å/–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `verify_phone.html`, registration partials

7. **JS/UX**
   - [ ] HTMX –≤–∫–ª–∞–¥–∫–∏ (—É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã), Alpine.js —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Å–ø–∏–Ω–Ω–µ—Ä—ã)

8. **Tailwind UI**
   - [ ] –î–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∫–ª–∞—Å—Å—ã –≤ `styles.css`, —Ç–µ—Å—Ç –≤ –±—Ä–µ–π–∫–ø–æ–∏–Ω—Ç–∞—Ö

### ‚öôÔ∏è DevOps / Config
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `settings/constants.py` (`MAX_SMS_ATTEMPTS` –∏ –¥—Ä.)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø—É—Ç–∏ –≤ i18n –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### üìö Documentation
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README / docs –æ–± —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö –∏ —à–∞–±–ª–æ–Ω–∞—Ö 